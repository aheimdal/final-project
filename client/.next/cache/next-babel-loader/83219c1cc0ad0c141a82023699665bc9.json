{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { Fragment, useEffect, useState } from 'react';\nimport EditCompany from './EditCompany';\nimport InputCompany from './InputCompany';\n\nconst ListCompany = () => {\n  const {\n    0: companies,\n    1: setCompanies\n  } = useState([]); // Delete function\n\n  const deleteCompanies = async id => {\n    try {\n      //https://final-project-clockin.herokuapp.com/company\n      const deleteProject = await fetch(`company/${id}`, {\n        method: \"DELETE\"\n      });\n      setCompanies(companies.filter(company => company.company_id !== id));\n    } catch (err) {\n      console.error(err.message);\n    }\n  }; // Fetch data function \n\n\n  const getCompanies = async () => {\n    try {\n      //https://final-project-clockin.herokuapp.com/company\n      const response = await fetch(\"company\");\n      const jsonData = await response.json();\n      setCompanies(jsonData);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getCompanies();\n  }, []);\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"header\", {\n      children: [/*#__PURE__*/_jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n      }), /*#__PURE__*/_jsx(\"script\", {\n        src: \"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"\n      }), /*#__PURE__*/_jsx(\"script\", {\n        src: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"\n      })]\n    }), /*#__PURE__*/_jsx(InputCompany, {}), /*#__PURE__*/_jsxs(\"div\", {\n      class: \"d-flex flex-column bd-highlight mb-3\",\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        class: \"text-center p-3\",\n        children: \"Company List\"\n      }), /*#__PURE__*/_jsxs(\"table\", {\n        class: \"table mt-5 text-center\",\n        children: [/*#__PURE__*/_jsx(\"thead\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              children: \"Company Name\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              children: \"Contact Name\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              children: \"Company Phone\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              children: \"Company Address\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              children: \"Company mail\"\n            }), /*#__PURE__*/_jsx(\"th\", {}), /*#__PURE__*/_jsx(\"th\", {})]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: companies.map(company => /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              children: company.company_name\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: company.contact_name\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: company.company_phone\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: company.company_address\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: company.company_mail\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: /*#__PURE__*/_jsx(EditCompany, {\n                company: company\n              })\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: /*#__PURE__*/_jsx(\"button\", {\n                class: \"btn btn-danger\",\n                onClick: () => deleteCompanies(company.company_id),\n                children: \"Delete\"\n              })\n            })]\n          }, company.company_id))\n        })]\n      })]\n    })]\n  });\n};\n\nexport default ListCompany;","map":null,"metadata":{},"sourceType":"module"}