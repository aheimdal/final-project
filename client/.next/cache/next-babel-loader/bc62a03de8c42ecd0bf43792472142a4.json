{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { Fragment, useEffect, useState } from 'react';\nimport EditProject from './EditProject';\n\nconst ListProject = () => {\n  const {\n    0: projects,\n    1: setProjects\n  } = useState([]); // Delete function\n\n  const deleteProjects = async id => {\n    try {\n      const deleteProject = await fetch(`http://localhost:5000/project/${id}`, {\n        method: \"DELETE\"\n      });\n      setProjects(projects.filter(project => project.project_id !== id));\n    } catch (err) {\n      console.error(err.message);\n    }\n  }; // Fetch data function \n\n\n  const getProjects = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5000/project\");\n      const jsonData = await response.json();\n      setProjects(jsonData);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getProjects();\n  }, []);\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"header\", {\n      children: [/*#__PURE__*/_jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n      }), /*#__PURE__*/_jsx(\"script\", {\n        src: \"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"\n      }), /*#__PURE__*/_jsx(\"script\", {\n        src: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      class: \"d-flex flex-column bd-highlight mb-3\",\n      children: [/*#__PURE__*/_jsx(\"h1\", {\n        class: \"text-center p-3\",\n        children: \"Project List\"\n      }), /*#__PURE__*/_jsxs(\"table\", {\n        class: \"table mt-5 text-center\",\n        children: [/*#__PURE__*/_jsx(\"thead\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              children: \"Company Name\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              children: \"Description\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              children: \"Location\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              children: \"Total Time\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              children: \"Edit\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              children: \"Delete\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: projects.map(project => /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              children: project.project_company_name\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: project.project_description\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: project.project_location\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              children: [(\"0\" + Math.floor(project.project_time / 3600) % 24).slice(-2), \":\", (\"0\" + Math.floor(project.project_time / 60) % 60).slice(-2), \":\", (\"0\" + project.project_time % 60).slice(-2)]\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: /*#__PURE__*/_jsx(EditProject, {\n                project: project\n              })\n            }), /*#__PURE__*/_jsx(\"td\", {\n              children: /*#__PURE__*/_jsx(\"button\", {\n                class: \"btn btn-danger\",\n                onClick: () => deleteProjects(project.project_id),\n                children: \"Delete\"\n              })\n            })]\n          }, project.project_id))\n        })]\n      })]\n    })]\n  });\n};\n\nexport default ListProject;","map":null,"metadata":{},"sourceType":"module"}