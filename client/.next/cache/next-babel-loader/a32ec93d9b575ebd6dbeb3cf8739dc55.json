{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { Fragment, useState } from 'react';\n\nconst EditCompany = ({\n  company\n}) => {\n  const {\n    0: company_name,\n    1: setCompanyName\n  } = useState(company.company_name);\n  const {\n    0: contact_name,\n    1: setContactName\n  } = useState(company.contact_name);\n  const {\n    0: company_phone,\n    1: setCompanyPhone\n  } = useState(company.company_phone);\n  const {\n    0: company_address,\n    1: setCompanyAddress\n  } = useState(company.company_address);\n  const {\n    0: company_mail,\n    1: setCompanyMail\n  } = useState(company.company_mail); // Edit Company_Company_Name\n\n  const updateInfo = async e => {\n    e.preventDefault();\n\n    try {\n      const body = {\n        company_name,\n        contact_name,\n        company_phone,\n        company_address,\n        company_mail\n      };\n      const response = await fetch(`http://localhost:5000/company/${company.company_id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      window.location = \"/\";\n    } catch (err) {\n      console.error(err.message);\n    }\n  }; // If edit is cancelled the prior changes are not carried over if you wanna finish or change your edit\n\n\n  const cancelUpdate = () => {\n    setCompanyName(company.company_name);\n    setContactName(company.contact_name);\n    setCompanyPhone(company.company_phone);\n    setCompanyAddress(company.company_address);\n    setCompanyMail(company.company_mail);\n  };\n\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"header\", {\n      children: [/*#__PURE__*/_jsx(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n      }), /*#__PURE__*/_jsx(\"script\", {\n        src: \"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"\n      }), /*#__PURE__*/_jsx(\"script\", {\n        src: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      children: [/*#__PURE__*/_jsx(\"button\", {\n        type: \"button\",\n        class: \"btn btn-outline-success\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": `#id${company.company_id}`,\n        children: \"Edit\"\n      }), /*#__PURE__*/_jsx(\"div\", {\n        onClick: () => cancelUpdate(),\n        class: \"modal\",\n        id: `id${company.company_id}`,\n        children: /*#__PURE__*/_jsx(\"div\", {\n          class: \"modal-dialog\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            class: \"modal-content\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              class: \"modal-header\",\n              children: [/*#__PURE__*/_jsx(\"h4\", {\n                class: \"modal-title\",\n                children: \"Edit Company\"\n              }), /*#__PURE__*/_jsx(\"button\", {\n                type: \"button\",\n                class: \"close\",\n                \"data-dismiss\": \"modal\",\n                onClick: () => cancelUpdate(),\n                children: \"\\xD7\"\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              class: \"modal-body\",\n              children: [/*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                className: \"form-control mt-3\",\n                value: company_name,\n                onChange: e => setCompanyName(e.target.value)\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                className: \"form-control mt-3\",\n                value: contact_name,\n                onChange: e => setContactName(e.target.value)\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                className: \"form-control mt-3\",\n                value: company_phone,\n                onChange: e => setCompanyPhone(e.target.value)\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                className: \"form-control mt-3\",\n                value: company_address,\n                onChange: e => setCompanyAddress(e.target.value)\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                className: \"form-control mt-3\",\n                value: company_mail,\n                onChange: e => setCompanyMail(e.target.value)\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              class: \"modal-footer\",\n              children: [/*#__PURE__*/_jsx(\"button\", {\n                type: \"button\",\n                class: \"btn btn-success\",\n                \"data-dismiss\": \"modal\",\n                onClick: e => updateInfo(e),\n                children: \"Save\"\n              }), /*#__PURE__*/_jsx(\"button\", {\n                type: \"button\",\n                class: \"btn btn-danger\",\n                \"data-dismiss\": \"modal\",\n                onClick: () => cancelUpdate(),\n                children: \"Close\"\n              })]\n            })]\n          })\n        })\n      })]\n    })]\n  });\n};\n\nexport default EditCompany;","map":null,"metadata":{},"sourceType":"module"}