{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\heimd\\\\OneDrive\\\\Documents\\\\Lokaverkefni\\\\Three\\\\final-project\\\\client\\\\components\\\\company\\\\ListCompany.js\";\nimport React, { Fragment, useEffect, useState } from 'react';\nimport EditCompany from './EditCompany';\nimport InputCompany from './InputCompany';\n\nconst ListCompany = () => {\n  const {\n    0: companies,\n    1: setCompanies\n  } = useState([]); // Delete function\n\n  const deleteCompanies = async id => {\n    try {\n      const deleteProject = await fetch(`/company/${id}`, {\n        method: \"DELETE\"\n      });\n      setCompanies(companies.filter(company => company.company_id !== id));\n    } catch (err) {\n      console.error(err.message);\n    }\n  }; // Fetch data function \n\n\n  const getCompanies = async () => {\n    try {\n      const response = await fetch(\"/company\");\n      const jsonData = await response.json();\n      setCompanies(jsonData);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getCompanies();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n        src: \"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n        src: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(InputCompany, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"d-flex flex-column bd-highlight mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        class: \"text-center p-3\",\n        children: \"Company List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        class: \"table mt-5 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Company Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Contact Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Company Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Company Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Company mail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: companies.map(company => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: company.company_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: company.contact_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: company.company_phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: company.company_address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: company.company_mail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(EditCompany, {\n                company: company\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"btn btn-danger\",\n                onClick: () => deleteCompanies(company.company_id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 13\n            }, this)]\n          }, company.company_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 12\n  }, this);\n};\n\nexport default ListCompany;","map":{"version":3,"sources":["C:/Users/heimd/OneDrive/Documents/Lokaverkefni/Three/final-project/client/components/company/ListCompany.js"],"names":["React","Fragment","useEffect","useState","EditCompany","InputCompany","ListCompany","companies","setCompanies","deleteCompanies","id","deleteProject","fetch","method","filter","company","company_id","err","console","error","message","getCompanies","response","jsonData","json","map","company_name","contact_name","company_phone","company_address","company_mail"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\r\nimport EditCompany from './EditCompany';\r\nimport InputCompany from './InputCompany';\r\n\r\nconst ListCompany = () => {\r\n\r\n    const [companies, setCompanies] = useState([]);\r\n\r\n    // Delete function\r\n    const deleteCompanies = async (id) => {\r\n        try {\r\n            const deleteProject = await fetch(`/company/${id}`, {\r\n                method: \"DELETE\"\r\n            });\r\n\r\n            setCompanies(companies.filter(company => company.company_id !== id))\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        }\r\n        \r\n    }\r\n\r\n    // Fetch data function \r\n    const getCompanies = async() => {\r\n\r\n        try {\r\n            const response = await fetch(\"/company\");\r\n            const jsonData = await response.json();\r\n\r\n            setCompanies(jsonData);  \r\n        } catch (err) {\r\n            console.error(err.message);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getCompanies();\r\n    }, []);\r\n\r\n    return <Fragment>\r\n    <header>\r\n    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" />\r\n        <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"></script>\r\n        <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"></script>\r\n    </header>\r\n    <InputCompany/>\r\n    <div class = \"d-flex flex-column bd-highlight mb-3\">\r\n        <h1 class=\"text-center p-3\">Company List</h1>  \r\n        <table class=\"table mt-5 text-center\">\r\n            <thead>\r\n                <tr>\r\n                <th>Company Name</th>\r\n                <th>Contact Name</th>\r\n                <th>Company Phone</th>\r\n                <th>Company Address</th>\r\n                <th>Company mail</th>\r\n                <th></th>\r\n                <th></th>\r\n                </tr>\r\n            </thead>\r\n    <tbody>\r\n        {/*\r\n        Reference fyrir uppbyggingu töflu sem ég mun nota - Mun breytast eitthvað\r\n        <tr>\r\n            <td>Ístak ehf</td>\r\n            <td>Doe</td>\r\n            <td>john@example.com</td>\r\n            <td>john@example.com</td>\r\n            <td>john@example.com</td>\r\n            <td>john@example.com</td>\r\n        </tr>\r\n        */ }\r\n        {/* This is how I map to be able to use the data */}\r\n        {companies.map(company =>(\r\n            <tr key={company.company_id}>\r\n                <td>{company.company_name}</td>\r\n                <td>{company.contact_name}</td>\r\n                <td>{company.company_phone}</td>\r\n                <td>{company.company_address}</td>\r\n                <td>{company.company_mail}</td>\r\n                <td><EditCompany company={company}/></td>\r\n            <td>\r\n                <button class=\"btn btn-danger\" onClick={()=> deleteCompanies(company.company_id)}>Delete</button>\r\n            </td>\r\n        </tr>\r\n        ))}\r\n    </tbody>\r\n  </table>\r\n  </div>\r\n    </Fragment>\r\n}\r\n\r\nexport default ListCompany;"]},"metadata":{},"sourceType":"module"}